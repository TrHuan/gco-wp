<?php
/*by PenciDesign*/
 goto RATl9; RATl9: class HPP_Lazy { private $buffer; private $htmlCommentTokens = array(); public function __construct() { goto OuAAE; ed4gZ: $this->_setup_hooks(); goto KjWZ_; NiOBU: add_shortcode('load_dynamic_by_js', array($this, 'load_dynamic_by_js')); goto ed4gZ; OuAAE: $this->buffer = new HPP_OutputBuffer(); goto NiOBU; KjWZ_: } function _setup_hooks() { goto uUFqL; ShSPv: add_action('wp_footer', array($this, 'hpp_print_footer_end'), PHP_INT_MAX); goto lEIYa; i6Ft0: add_filter('option_mmr-gzip', function ($v) { return 0; }); goto Dvl0D; R1ASh: if (!(1 || is_dir(WP_PLUGIN_DIR . '/wp2speed'))) { goto EtEpM; } goto u981d; GIY2W: add_filter('option_mmr-http2push-js', function ($v) { return 1; }); goto PNJAJ; AzGZe: add_action('wp_enqueue_scripts', array($this, 'enqueue_asset'), PHP_INT_MAX); goto Fj2oy; WbDey: add_action('admin_init', array($this, 'admin_init')); goto Um0gq; uUFqL: add_filter('template_include', array($this, 'template_include'), PHP_INT_MAX); goto kcfGY; u981d: add_filter('script_loader_tag', array($this, 'script_loader_tag'), PHP_INT_MAX, 4); goto yCQjz; jHgsy: add_action('admin_enqueue_scripts', array($this, 'hpp_print_scripts'), 0); goto AzGZe; Dvl0D: add_filter('option_mmr-nocheckcssimports', function ($v) { return 0; }); goto tfSBs; GjeA8: add_action("wp_ajax_nopriv_hpp_generate_css", array($this, "ajax_generate_css")); goto kStUi; nWyKo: add_filter('get_custom_logo', 'hpp_defer_img_b64', PHP_INT_MAX, 2); goto QFKaG; QFKaG: Dqa_Q: goto BNm42; gr3Ad: add_action('wp_head', array($this, 'hpp_print_critical'), apply_filters('hpp_print_critical_priority', 5)); goto ShSPv; uGKWR: add_filter('the_content', 'hpp_defer_media', PHP_INT_MAX); goto O9baE; kcfGY: add_action('wp_head', array($this, 'hpp_print_head'), 0); goto gr3Ad; ZtVhc: add_action('dynamic_sidebar_after', array($this, 'filter_sidebar_content_end'), PHP_INT_MAX); goto SSMBc; Um0gq: add_filter('hpp_prepare_output', array($this, 'wordpress_prepare_output'), PHP_INT_MAX, 1); goto aOK0u; Brd3v: if (!hw_config('logo_base64')) { goto Dqa_Q; } goto nWyKo; dIKur: add_action('init', array($this, '_init'), PHP_INT_MAX); goto WbDey; u07bh: EtEpM: goto dIKur; lEIYa: add_action('wp_print_scripts', array($this, 'hpp_print_scripts'), 0); goto jHgsy; O9baE: add_filter('the_excerpt', 'hpp_defer_media', PHP_INT_MAX); goto Brd3v; PNJAJ: add_filter('option_mmr-outputbuffering', function ($v) { return 0; }); goto i6Ft0; BNm42: add_filter('get_avatar', 'hpp_defer_imgs'); goto SyUri; tfSBs: add_filter('should_mmr', 'hpp_shouldlazy'); goto u07bh; SyUri: add_filter('walker_nav_menu_start_el', 'hpp_defer_imgs', PHP_INT_MAX); goto Eicvj; wVM59: add_filter('wp_get_attachment_image_attributes', array($this, 'filter_get_attachment_image_attributes'), PHP_INT_MAX, 3); goto gF6Cl; kStUi: add_filter('get_image_tag_class', array($this, 'add_image_class'), PHP_INT_MAX); goto wVM59; aOK0u: add_filter('hpp_lazycss', array($this, 'lazy_css')); goto uGKWR; Eicvj: add_filter('wp_video_shortcode', 'hpp_lazy_video', 10); goto Z6kqg; SSMBc: $this->_plugin_hooks(); goto fJryj; VXUge: add_filter('option_mmr-http2push-css', function ($v) { return 1; }); goto GIY2W; gF6Cl: add_filter('wp_kses_allowed_html', array($this, 'add_lazy_load_attributes')); goto R1ASh; yCQjz: add_filter('style_loader_tag', array($this, 'style_loader_tag'), PHP_INT_MAX, 4); goto VXUge; Fj2oy: add_action("wp_ajax_hpp_generate_css", array($this, "ajax_generate_css")); goto GjeA8; Z6kqg: add_filter('oembed_result', array($this, 'oembed_result'), 10, 3); goto p1fPc; p1fPc: add_action('dynamic_sidebar_before', array($this, 'filter_sidebar_content_start'), 0); goto ZtVhc; fJryj: } function _init() { goto UbS7U; IyGrX: hpp_reorder_hooks(0, 'admin_enqueue_scripts', 'hpp_print_scripts', 0); goto I2M5p; UbS7U: hpp_reorder_hooks(0, 'wp_head', 'hpp_print_head', 0); goto ZUfOQ; ZUfOQ: hpp_reorder_hooks(PHP_INT_MAX, 'wp_footer', 'hpp_print_footer_end', PHP_INT_MAX); goto w0i9w; w0i9w: hpp_reorder_hooks(0, 'wp_print_scripts', 'hpp_print_scripts', 0); goto IyGrX; I2M5p: } function _plugin_hooks() { goto KLG3S; B6d__: add_filter('woocommerce_short_description', 'hpp_defer_media'); goto bQl03; bQl03: add_filter('acf/format_value', array($this, 'acf_load_value'), PHP_INT_MAX, 3); goto hXRjz; Wrs2N: add_filter('woocommerce_single_product_image_thumbnail_html', array($this, 'woocommerce_single_product_image_thumbnail_html'), PHP_INT_MAX, 2); goto B6d__; KLG3S: add_filter('woocommerce_single_product_image_html', array($this, 'woocommerce_single_product_image_html'), PHP_INT_MAX, 2); goto Wrs2N; hXRjz: } public function tokenizeHtmlComments($matches) { goto k51XO; k51XO: $index = count($this->htmlCommentTokens); goto vYreP; vYreP: $this->htmlCommentTokens[$index] = $matches[0]; goto PSKC0; PSKC0: return '<!--TOKEN' . $index . '-->'; goto yuelp; yuelp: } public function restoreHtmlComments($matches) { return $this->htmlCommentTokens[$matches[1]]; } function wordpress_prepare_output($buffer) { goto eNCK4; P7VAk: $buffer = preg_replace_callback('/<!--TOKEN([0-9]+)-->/', array($this, 'restoreHtmlComments'), $buffer); goto HaVdd; dMoEP: $buffer = str_replace('{{hpp_critical}}', $GLOBALS['hpp-head-critical'] . $GLOBALS['hpp-head-js'] . join('', $scripts), $buffer); goto T6uHZ; rXMk_: lnYCJ: goto jGwPg; vyFAi: $merged['css']['log'] = join("\n", $merged['css']['log']); goto at8np; QJ1GJ: $last_css_id = 20; goto rXMk_; Lkjpi: NkZN3: goto Odj2K; GXhFd: return $buffer; goto yqcVm; bE5_K: if (isset($my_asset[1])) { goto qoAiM; } goto osgm3; SakrQ: foreach ($m[0] as $i => $tag) { goto Ke0BU; RTcMm: e01qy: goto HrmUO; wb5gl: if (apply_filters('hpp_allow_delay_asset', true, $att['src'])) { goto izFxG; } goto iWzse; LGuG5: jmhNe: goto ftkxk; g4aqi: $inline['js'][] = hw_config_val('test', 1, '/*[script' . $m[4][$i] . ']*/', '') . 'try{' . $js . '}catch(e){console.log(e)}'; goto n_3jH; Z1a1s: $js = "{$open}{$js}{$close}"; goto AWY9h; tQ9b8: if (!(substr_count($noscript_0, '<link ') > 1 || hpp_in_str($noscript_0, ['<link', '<style'], 1))) { goto vM0v8; } goto GRGOY; DY_z2: $buffer = str_replace($tag, '', $buffer); goto NT59a; QFN06: aTAfI: goto fPjeq; hehoM: lg3ni: goto RdVH_; iwChG: $open = hw_config_val('debug', 1, "/*{$open}*/", ''); goto qDyJM; Sav06: p1pwq: goto pWILH; DuTAb: UKWUJ: goto xKFkU; b4iwW: T35o1: goto Qg9wa; Qg9wa: if (!(stripos($tag, '</noscript>') !== false)) { goto vkJ0Q; } goto rZE8w; t0ubp: $new_assets['hpp-s-' . $last_css_id] = array_merge(['t' => 'css', 'l' => $att['href'], '_id' => $att['id'], 'extra' => 1], hpp_array_exclude_keys(apply_filters('hpp_delay_asset_att', array_merge($att, ['l' => $att['href']]), 'css'), ['href', 'rel', 'id'])); goto vJknI; wOPxs: if (apply_filters('hpp_allow_delay_asset', true, $att['href'])) { goto I2aA2; } goto yTFWH; DVhQK: JCbId: goto wOD2G; NT59a: ucqLP: goto xEr7n; u8JFR: try { $js = apply_filters('hpp_inline_script', $wp2speed->fixOtherJS($js)); } catch (Exception $e) { hpp_write_log($e->getMessage()); $js = $wp2speed->fixOtherJS($js); } goto gIAQJ; Nqx1h: tSy2a: goto c2oM6; lDFYn: if (strpos($m[4][$i], ' src=') !== false && strpos($m[4][$i], $path_me) === false) { goto xwMup; } goto jiTUH; jomzH: vM0v8: goto QJobQ; gIAQJ: if (!($js != $m[6][$i])) { goto IIiHF; } goto nqSI6; Sbp0a: if (!(1 || strpos($my_asset, $att['src']) === false)) { goto giCnC; } goto gmGR1; ftkxk: dMr0B: goto Ntp_O; j73sG: $buffer = str_replace($m[9][$i], $css, $buffer); goto HnxnI; sVEiu: $att = hpp_dom_attr($tag, [], 'script'); goto Sbp0a; Xy46E: if (!(stripos($tag, '</script>') !== false && !hpp_in_str($m[4][$i], hpp_var('script-type')))) { goto uvZD3; } goto lDFYn; U_kNn: dxI9_: goto c4v2N; NOfCT: kNrta: goto u8JFR; c2oM6: $att['id'] = md5($att['href']); goto Sav06; t8u7D: $close = '})'; goto wEnpI; XffU1: $buffer = str_replace($tag, '', $buffer); goto kJdF4; yDULM: $att['id'] = substr($att['id'], 0, -4); goto hehoM; URu05: DWte6: goto NMxVV; zj6Vx: $new_assets[$att['id']] = array_merge(['t' => 'js', 'l' => $att['src'], 'extra' => 1], hpp_array_exclude_keys(apply_filters('hpp_delay_asset_att', array_merge($att, ['l' => $att['src']]), 'js'), ['src', 'id', 'type'])); goto DY_z2; HnxnI: UjUgo: goto b4iwW; wOD2G: if (strpos($merged['js']['log'], $att['src']) !== false) { goto UKWUJ; } goto wb5gl; g_OWw: zXSAV: goto oIDf8; SUHlc: if (!hpp_endsWith($att['id'], '-js')) { goto om32B; } goto Gy0P9; rZE8w: $noscript_0 = $noscript_1 = $m[7][$i]; goto tQ9b8; iWzse: $buffer = str_replace($tag, HPP_Lazy::defer_asset_html($tag, 'js'), $buffer); goto oNadf; RbxbO: $last_css_id++; goto t0ubp; HNylb: goto D3woe; goto xBDxz; gqaXP: $open = !apply_filters('hpp_delay_it_script', false, $js) ? '_HWIO.readyjs(function(){' : '_HWIO.readyjs(null,function(){'; goto t8u7D; HrmUO: if (!(strpos($noscript_1, '[/noscript]') !== false)) { goto aTAfI; } goto XOQV3; NMxVV: if (strpos($merged['css']['log'], $att['href']) !== false) { goto dy51i; } goto wOPxs; hpech: IIiHF: goto HNylb; xBDxz: hz_E1: goto yvGYk; syzIN: goto AISNi; goto OwatZ; XOQV3: $buffer = str_replace($tag, str_replace('</noscript>', '', $tag), $buffer); goto op_5o; X2QDV: if (!(count($m1[0]) > 1)) { goto NkYS3; } goto AQgYB; Ntp_O: TKEwc: goto Xy46E; qCItF: YL1gc: goto syzIN; Gq8zc: dy51i: goto XffU1; LQnfq: if (empty($att['href'])) { goto dMr0B; } goto Vz50U; b4mHd: uvZD3: goto NK2K9; CIZyZ: if (!($css != $m[9][$i])) { goto UjUgo; } goto j73sG; P3h7j: goto ucqLP; goto VZVqf; vJknI: $buffer = str_replace($tag, '', $buffer); goto LGuG5; jiTUH: if (!(strpos($m[4][$i], ' src=') === false && trim($m[6][$i]) != '' && !hpp_in_str($m[6][$i], ['var _HWIO=', '_HWIO.extra_assets=']))) { goto YL1gc; } goto g6X03; op_5o: $noscript_1 = str_replace('[/noscript]', '</noscript>', $noscript_1); goto QFN06; Ke0BU: if (!(stripos($tag, '<link ') !== false && stripos($tag, '<noscript>') === false && hpp_in_str($tag, ['stylesheet', 'text/css']) && strpos($tag, $path_me) === false)) { goto TKEwc; } goto N1xaS; VZVqf: izFxG: goto zj6Vx; nqSI6: $buffer = str_replace('<script' . $m[4][$i] . '>' . $m[6][$i] . '</script>', '<script' . $m[4][$i] . '>' . $js . '</script>', $buffer); goto hpech; hN23T: $att['media'] = 'all'; goto URu05; RdVH_: goto p1pwq; goto Nqx1h; Vz50U: if (empty($att['id'])) { goto tSy2a; } goto dw2k3; d0uOK: I2aA2: goto RbxbO; Qp0is: AISNi: goto b4mHd; yvGYk: try { $js = apply_filters('hpp_inline_script', $wp2speed->fixOtherJS($m[6][$i])); } catch (Exception $e) { $js = $wp2speed->fixOtherJS($m[6][$i]); hpp_write_log($e->getMessage()); } goto g4aqi; oIDf8: $att['id'] = md5($att['src']); goto DVhQK; oNadf: goto ucqLP; goto DuTAb; kJdF4: goto jmhNe; goto d0uOK; xEr7n: giCnC: goto Qp0is; OwatZ: xwMup: goto sVEiu; fPjeq: $buffer = str_replace($noscript_0, $noscript_1, $buffer); goto UTo4r; uu_Gm: D3woe: goto qCItF; L8Zoc: if (hpp_in_str($m[6][$i], ['_HWIO.readyjs('])) { goto Y9wY2; } goto gqaXP; ws7wI: goto kNrta; goto U_kNn; xyv19: $css = hpp_fix_stylesheet(apply_filters('hpp_inline_style', $m[9][$i])); goto CIZyZ; WV3vK: goto JCbId; goto g_OWw; NK2K9: if (!(0 && stripos($tag, '</style>') !== false && strpos($tag, 'media="not all"') === false && trim($m[9][$i]))) { goto T35o1; } goto xyv19; gmGR1: if (empty($att['id'])) { goto zXSAV; } goto SUHlc; wEnpI: if (!($m[6][$i] != $js && !hpp_in_str($js, hpp_var('heavy-js', [])))) { goto KZexO; } goto iwChG; n_3jH: $buffer = str_replace('<script' . $m[4][$i] . '>' . $m[6][$i] . '</script>', '', $buffer); goto uu_Gm; qDyJM: $close = hw_config_val('debug', 1, "/*{$close}*/", ''); goto HdQwZ; UTo4r: NkYS3: goto jomzH; c4v2N: $js = hpp_fix_script_variables($m[6][$i]); goto L8Zoc; GRGOY: preg_match_all('#<link(((?!>).)* )rel=(.*?)>|<style(((?!>).)*)?>(.*?)<\\/style>#si', $noscript_0, $m1); goto X2QDV; HNJi9: goto jmhNe; goto Gq8zc; HYMWq: Lp3Ix: goto DbeLH; xKFkU: $buffer = str_replace($tag, '', $buffer); goto P3h7j; AQgYB: foreach ($m1[0] as $_tag) { goto dKkBr; kqwA8: $noscript_1 = str_replace('<style' . $m1[4][$i] . '>' . $m1[6][$i] . '</style>', '<style' . $m1[4][$i] . '>' . $css . '</style>', $noscript_1); goto T_COH; g4S6o: $att['media'] = 'all'; goto lXi32; dKkBr: if (!(stripos($_tag, '<link ') !== false)) { goto hk4_T; } goto ZHRJ1; vOUwC: $last_css_id++; goto t3sJ7; dXE5p: try { $css = hpp_fix_stylesheet(apply_filters('hpp_inline_style', $m1[6][$i])); } catch (Exception $e) { $css = hpp_fix_stylesheet($m1[6][$i]); hpp_write_log($e->getMessage()); } goto klEnO; KWl9c: $noscript_1 = str_replace($_tag, '', $noscript_1); goto OtmTN; e4cMh: $noscript_1 = str_replace($_tag, '', $noscript_1); goto Oj84r; mSLGg: y50Dk: goto Xcnze; vkIsp: if (strpos($merged['css']['log'], $att['href']) !== false) { goto oBXl7; } goto fwJT3; fwJT3: if (apply_filters('hpp_allow_delay_asset', true, $att['href'])) { goto Z7kzg; } goto b57S1; RwNkM: oBXl7: goto gG8S8; E20Wj: xN30C: goto Q7ej0; G3xum: wQuYG: goto RwMxl; ZHRJ1: $att = hpp_dom_attr($_tag, [], 'link'); goto Y92JF; kVyni: $att['id'] = md5($att['href']); goto mSLGg; oIPr4: xvrDH: goto zIP8q; luHY9: hk4_T: goto JjhMR; Oj84r: goto xvrDH; goto ChFe3; N4Mgh: Z7kzg: goto vOUwC; Q7ej0: cD5d4: goto SJ2dU; NfjeN: if (strpos($noscript_1, '</noscript>') === false) { goto ZGyow; } goto e4cMh; Xcnze: if (isset($att['media'])) { goto UUJZZ; } goto g4S6o; zIP8q: goto Snwz7; goto G3xum; Kcv69: goto kufIV; goto N4Mgh; RwMxl: if (isset($att['id'])) { goto y50Dk; } goto kVyni; gG8S8: $noscript_1 = str_replace($_tag, '', $noscript_1); goto Kcv69; T_COH: mCOEH: goto E20Wj; XHo7U: goto kufIV; goto RwNkM; t3sJ7: $new_assets['hpp-s-' . $last_css_id] = array_merge(['t' => 'css', 'l' => $att['href'], '_id' => $att['id'], 'extra' => 1], hpp_array_exclude_keys(apply_filters('hpp_delay_asset_att', array_merge($att, ['l' => $att['href']]), 'css'), ['href', 'rel', 'id'])); goto KWl9c; oQJov: Snwz7: goto luHY9; klEnO: if (!($css != $m1[6][$i])) { goto mCOEH; } goto kqwA8; JjhMR: if (!(stripos($_tag, '</style>') !== false && stripos($m1[4][$i], ' media="not all"') === false)) { goto xN30C; } goto dXE5p; ChFe3: ZGyow: goto xQ3KC; OtmTN: kufIV: goto oQJov; lXi32: UUJZZ: goto vkIsp; b57S1: $noscript_1 = str_replace($_tag, HPP_Lazy::defer_asset_html($_tag, 'css'), $noscript_1); goto XHo7U; xQ3KC: $noscript_1 = str_replace($_tag, $_tag . '[/noscript]', $noscript_1); goto oIPr4; Y92JF: if (strpos($my_asset, $att['href']) === false) { goto wQuYG; } goto NfjeN; SJ2dU: } goto RTcMm; QJobQ: vkJ0Q: goto HYMWq; HdQwZ: $js = $m[6][$i]; goto Mdt7Q; Gy0P9: $att['id'] = substr($att['id'], 0, -3); goto StAX2; StAX2: om32B: goto WV3vK; dw2k3: if (!hpp_endsWith($att['id'], '-css')) { goto lg3ni; } goto yDULM; N1xaS: $att = hpp_dom_attr($tag, [], 'link'); goto LQnfq; Mdt7Q: KZexO: goto Z1a1s; g6X03: if (apply_filters('hpp_allow_merge_inline', true, $m[6][$i], 'js')) { goto hz_E1; } goto d_rj2; pWILH: if (isset($att['media'])) { goto DWte6; } goto hN23T; QSa40: $js = $m[6][$i]; goto ws7wI; yTFWH: $buffer = str_replace($tag, HPP_Lazy::defer_asset_html($tag, 'css'), $buffer); goto HNJi9; d_rj2: if (apply_filters('hpp_allow_readyjs', true, $m[6][$i])) { goto dxI9_; } goto QSa40; AWY9h: Y9wY2: goto NOfCT; DbeLH: } goto lLOar; wpL7z: $merged = $wp2speed->get_processed_scripts(); goto dAYQC; at8np: $buffer = apply_filters('hpp_prepare_buffer_html', $buffer, $merged); goto t5pM1; s1KCa: $path_me = trim(str_replace([WP_SITEURL, 'http://', 'https://'], '', MMR_CACHE_URL), '/'); goto eC6gh; NfJvH: $new_assets = []; goto wpL7z; Srktv: $my_asset = explode('}});', $my_asset[1]); goto HvaPP; Odj2K: global $wp2speed; goto w9if4; qctAZ: return $buffer; goto UqDRd; SCG5O: $head_0 = preg_replace_callback('#<script(((?!>).)*)?>(.*?)<\\/script>#si', function ($m) use(&$scripts) { $scripts[] = $m[0]; return ''; }, $head[0]); goto keixk; OD9qk: if (!count($new_assets)) { goto RUrs4; } goto bZFSN; HaVdd: if (empty($GLOBALS['hpp-lazycss'])) { goto hcInY; } goto X7tIt; t5pM1: $parts = preg_split('/<\\/head[\\s]*>/i', $buffer, 2); goto Fqosn; tzX3P: $buffer = hpp_defer_media_large($buffer); goto P7VAk; UmtNF: return $buffer; goto Lkjpi; qC3n4: $ar = explode('<script id="hqjs">', $buffer); goto XqTir; CVGoS: if (!count($inline['js'])) { goto XSDX0; } goto qC3n4; dAYQC: $merged['js']['log'] = join("\n", $merged['js']['log']); goto vyFAi; tvNa5: $GLOBALS['hpp-lazycss'] = ''; goto zxt7x; PgJyl: $scripts = []; goto cuOl1; Uvz0j: RUrs4: goto UyfEI; JNt5h: foreach ($chunk as $tag) { goto U4acb; aUodK: $buffer = str_replace($tg1 . $m4 . ($m4 ? '>' : '') . $m6 . '</script>', $tg1 . $m4 . ($m4 ? '>' : '') . $js . '</script>', $buffer); goto j2wHX; yjQW_: try { $css = hpp_fix_stylesheet(apply_filters('hpp_inline_style', $m6)); } catch (Exception $e) { $css = hpp_fix_stylesheet($m6); hpp_write_log($e->getMessage()); } goto NM26T; RpmXc: if (!(0 && $tg == 'script' && !hpp_in_str($m4, hpp_var('script-type')))) { goto Vwqtq; } goto au0ol; cWyVp: fnY6q: goto FGQJT; SvgMm: $tg = 'style'; goto zueds; RtaFX: $close = '})'; goto Vw_0s; j2wHX: pEEpS: goto m8vY6; WiIzg: $buffer = str_replace($tag, '', $buffer); goto IlxPZ; payXM: $m4 = hpp_endsWith($tg1, '>') ? '' : substr($tag, 0, strpos($tag, '>')); goto WdMWF; vPABc: $att['id'] = md5($att['src']); goto cWyVp; N2nZB: rH88h: goto vPABc; Cg6yo: ZmlRO: goto Tw05y; AbBnS: $buffer = str_replace($tg1 . $m4 . ($m4 ? '>' : '') . $m6 . '</style>', $tg1 . $m4 . ($m4 ? '>' : '') . $css . '</style>', $buffer); goto q1qAd; RHNxQ: $new_assets[$att['id']] = array_merge(['t' => 'js', 'l' => $att['src'], 'extra' => 1], hpp_array_exclude_keys(apply_filters('hpp_delay_asset_att', array_merge($att, ['l' => $att['src']]), 'js'), ['src', 'id', 'type'])); goto qzrVP; fpNV2: RHQZp: goto a8j46; qOcn3: qEcYz: goto RpmXc; aSOzs: if (!hpp_endsWith($att['id'], '-js')) { goto RHQZp; } goto AVUzd; IlxPZ: goto ZmlRO; goto ll4MM; DkEGy: $close = hw_config_val('debug', 1, "/*{$close}*/", ''); goto pBzvQ; WdMWF: $m6 = $m4 ? substr($tag, strlen($m4) + 1) : $tag; goto qOcn3; D93a8: yXjSA: goto MeFRn; jAm4U: $buffer = str_replace($tag, HPP_Lazy::defer_asset_html($tag, 'js'), $buffer); goto KlNrM; KS8bI: if (!(strpos($m4, ' src=') === false && trim($m6) != '' && !hpp_in_str($m6, ['var _HWIO=', '_HWIO.extra_assets=']))) { goto oZ7zO; } goto wEfvl; P975_: if (empty($att['id'])) { goto rH88h; } goto aSOzs; q1qAd: KwicK: goto mrrOZ; qzrVP: $buffer = str_replace($tag, '', $buffer); goto Cg6yo; MeFRn: $tag = '<script ' . $tag . '</script>'; goto Fnx6P; MCxTC: if (apply_filters('hpp_allow_delay_asset', true, $att['src'])) { goto Wbzqb; } goto jAm4U; bkDVq: $tg = ''; goto aVrNV; b9bLU: if (hpp_in_str($m6, ['_HWIO.readyjs('])) { goto ReSqh; } goto wGI28; ll4MM: Wbzqb: goto RHNxQ; CM28M: $js = $m6; goto LaIMp; Vw_0s: if (!($m6 != $js && !hpp_in_str($js, hpp_var('heavy-js', [])))) { goto rAftT; } goto gRUJM; AVUzd: $att['id'] = substr($att['id'], 0, -3); goto fpNV2; ALe2w: try { $js = apply_filters('hpp_inline_script', $wp2speed->fixOtherJS($js)); } catch (Exception $e) { $js = $wp2speed->fixOtherJS($js); hpp_write_log($e->getMessage()); } goto Z9zP_; EgCit: Unac8: goto WiIzg; KlNrM: goto ZmlRO; goto EgCit; m8vY6: oZ7zO: goto nie8I; wEfvl: if (apply_filters('hpp_allow_readyjs', true, $m6)) { goto qP2pd; } goto CM28M; Rp_bH: rAftT: goto xx09S; xx09S: $js = "{$open}{$js}{$close}"; goto xzpn8; zueds: $tg1 = $tag; goto eX4qo; ncdqk: qP2pd: goto G6ejf; pBzvQ: $js = $m6; goto Rp_bH; LaIMp: goto DhZIa; goto ncdqk; mrrOZ: QgIAn: goto AGzHE; nie8I: goto as1Jo; goto D93a8; aLU66: bxcqP: goto Sr5Vv; eX4qo: goto JkQeJ; goto aLU66; Z9zP_: if (!($js != $m6)) { goto pEEpS; } goto aUodK; FNvWF: DhZIa: goto ALe2w; xzpn8: ReSqh: goto FNvWF; ipQzj: as1Jo: goto njbwq; a8j46: goto fnY6q; goto N2nZB; U4acb: if (!(strpos($tag, '<style') === 0)) { goto bxcqP; } goto SvgMm; YGAHP: JkQeJ: goto KQ9d_; Sr5Vv: if (!in_array($tg, ['style', 'script'])) { goto qEcYz; } goto payXM; obxFg: if (!($tg == 'style' && strpos($tag, 'media="not all"') === false && trim($m6))) { goto QgIAn; } goto yjQW_; Fnx6P: $att = hpp_dom_attr($tag, [], 'script'); goto eyaKx; G6ejf: $js = hpp_fix_script_variables($m6); goto b9bLU; aVrNV: AXm75: goto YGAHP; AGzHE: if (!$tg) { goto AXm75; } goto bkDVq; gRUJM: $open = hw_config_val('debug', 1, "/*{$open}*/", ''); goto DkEGy; eyaKx: if (!(1 || strpos($my_asset, $att['src']) === false)) { goto CjfK3; } goto P975_; njbwq: Vwqtq: goto obxFg; NM26T: if (!($css != $m6)) { goto KwicK; } goto AbBnS; au0ol: if (strpos($m4, ' src=') !== false && strpos($m4, $path_me) === false) { goto yXjSA; } goto KS8bI; Tw05y: CjfK3: goto ipQzj; FGQJT: if (strpos($merged['js']['log'], $att['src']) !== false) { goto Unac8; } goto MCxTC; wGI28: $open = !apply_filters('hpp_delay_it_script', false, $js) ? '_HWIO.readyjs(function(){' : '_HWIO.readyjs(null,function(){'; goto RtaFX; KQ9d_: } goto qnICt; FdGSz: qoAiM: goto Srktv; T6uHZ: $buffer = preg_replace_callback('/<!--.*?-->/s', array($this, 'tokenizeHtmlComments'), $buffer); goto S48Jl; w9if4: $my_asset = explode('_HWIO.extra_assets=_HWIO.assign(_HWIO.assets,', $buffer); goto bE5_K; rJunC: $f = 'custom.js",' . array_pop($ar) . ');'; goto DFiDx; UyfEI: $buffer = apply_filters('hpp_after_buffer_html', $buffer); goto GXhFd; S48Jl: $chunk = preg_split('#(<style>|<style |<\\/style>)#si', $buffer, -1, PREG_SPLIT_NO_EMPTY | PREG_SPLIT_DELIM_CAPTURE); goto FGt4E; DFiDx: $buffer = str_replace($f, $f . '_HWIO.extra_assets=_HWIO.assign(_HWIO.extra_assets,' . json_encode(apply_filters('hpp_lazy_assets', $new_assets)) . ');', $buffer); goto Uvz0j; keixk: $buffer = str_replace($parts[0], str_replace($head[0], $head_0, $parts[0]), $buffer); goto WXSq9; eNCK4: if (hpp_shouldlazy()) { goto NkZN3; } goto UmtNF; qnICt: TBrwe: goto fxXaK; Y0G9j: XSDX0: goto OD9qk; bZFSN: $my_asset = str_replace('/', '\\/', $my_asset); goto cupur; FGt4E: $tg1 = $tg = ''; goto JNt5h; cuOl1: if (!(strpos($head[0], '<script') !== false)) { goto cJ5Qz; } goto SCG5O; X7tIt: $style = '<style ' . hpp_gen_critical_context('', 'media="not all"') . '>' . apply_filters('hpp_lazycss', $GLOBALS['hpp-lazycss']) . '</style>'; goto TGaZg; XqTir: $buffer = $ar[0] . '<script type="text/javascript">' . apply_filters('hpp_merge_inline', '' . join("\n", $inline['js']) . '', 'js') . '</script><script id="hqjs">' . $ar[1]; goto Y0G9j; jGwPg: $inline = ['js' => [], 'css' => []]; goto NfJvH; zxt7x: hcInY: goto CVGoS; HvaPP: $my_asset = str_replace('\\/', '/', $my_asset[0]) . '}}'; goto emjXQ; WXSq9: cJ5Qz: goto dMoEP; gq8K8: $last_css_id = trim(str_replace(',"hpp-s-', '', $m[0][count($m[0]) - 1]), '"'); goto GgP8i; emjXQ: preg_match_all('#"hpp-s-\\d+"#s', $my_asset, $m); goto gq8K8; UqDRd: dpxuX: goto s1KCa; GgP8i: if (is_numeric($last_css_id)) { goto lnYCJ; } goto QJ1GJ; TGaZg: $buffer = str_replace('</head>', $style . '</head>', $buffer); goto tvNa5; osgm3: return $buffer; goto FdGSz; eC6gh: $head = explode('{{hpp_critical}}', $parts[0]); goto PgJyl; cupur: $ar = explode('custom.js",', $my_asset); goto rJunC; Fqosn: if (!(count($parts) < 2)) { goto dpxuX; } goto qctAZ; fxXaK: preg_match_all('#<link(((?!>).)* )rel=(.*?)>|<script(((?!>).)*)?>(.*?)<\\/script>|<noscript>(.*?)<\\/noscript>#si', $buffer, $m); goto SakrQ; lLOar: P1ezs: goto tzX3P; yqcVm: } function enqueue_asset() { goto AMMea; AMMea: if (!hpp_shouldlazy()) { goto uwPoP; } goto O5i7m; sZ0wF: uwPoP: goto opF8y; O5i7m: wp_enqueue_style('hpp-style', HS_PLUGIN_URL . '/lib/asset/style.css'); goto sZ0wF; opF8y: } function lazy_css($css) { global $wp2speed; return $wp2speed->fixCSS($css); } function _all_options($alloptions) { goto K9Mro; S6wjs: vd8dp: goto zXHmj; myuZs: SF3mi: goto Aib8S; IcLd_: $keys = array_keys($alloptions); goto IgF9z; zXHmj: $defOpts = 'siteurl,'; goto IcLd_; PHP37: if (hpp_shouldlazy()) { goto vd8dp; } goto w8KPj; A_e9K: $GLOBALS['hpp-init-options'] = 1; goto PHP37; K9Mro: if (!(function_exists('is_user_logged_in') && !isset($GLOBALS['hpp-init-options']))) { goto SF3mi; } goto A_e9K; Aib8S: return $alloptions; goto Ee5op; ST5L8: remove_filter('alloptions', array($this, __FUNCTION__)); goto myuZs; REyG_: AOTPU: goto ST5L8; IgF9z: foreach ($keys as $k) { goto lrihD; Ewv23: JQ_nM: goto N_gnh; jDfE8: add_filter('option_' . $k, array($this, 'hpp_fix_option_value'), PHP_INT_MAX, 2); goto raAvg; raAvg: ZVvG8: goto Ewv23; lrihD: if (hpp_in_str($k, array('mmr-', '_transient', 'action_scheduler', 'ActionScheduler'))) { goto ZVvG8; } goto jDfE8; N_gnh: } goto REyG_; w8KPj: return $alloptions; goto S6wjs; Ee5op: } function hpp_fix_option_value($value, $option) { goto U9XYs; lFyq0: if (!isset($cache[$option])) { goto qEHKk; } goto fKksk; aUntw: return $cache[$option]; goto CM6ou; fKksk: return $cache[$option]; goto QxfYk; mReZR: $cache[$option] = hpp_defer_option($value); goto aUntw; U9XYs: static $cache = array(); goto lFyq0; QxfYk: qEHKk: goto mReZR; CM6ou: } function acf_load_value($value, $post_id, $field) { goto gQRyI; O_eQV: return $cache[$key]; goto a3HaY; VQggE: return $cache[$key]; goto OFhKA; kF8fZ: if (!isset($cache[$key])) { goto OaLwO; } goto O_eQV; a3HaY: OaLwO: goto zb1Qf; xspR5: $key = $post_id . $field['name']; goto kF8fZ; gQRyI: static $cache = []; goto xspR5; zb1Qf: $cache[$key] = hpp_defer_option($value); goto VQggE; OFhKA: } function get_criticalcss_path() { goto xmMy_; IgOLO: if (!hw_config('same_css_lang')) { goto CnnXp; } goto sfnIx; cXxVe: $suffix = array(''); goto eP6Vt; aA2Rt: $GLOBALS['hpp-criticalfont'] = $file_font; goto GCf4J; tX1Dv: FvyP_: goto MEcqF; GCf4J: l6ss5: goto NNYdt; IKSGT: if (!(is_home() || is_front_page())) { goto uiyDO; } goto pglG2; qU5aG: CnnXp: goto cXxVe; sfnIx: $uri = preg_replace('#\\/(' . apply_filters('hpp_url_langs', 'en|vi') . ')\\/#', '/', $uri); goto qU5aG; eCYyl: if ($file) { goto hektm; } goto yONQq; CtAKD: $GLOBALS['hpp-criticalname'] .= '-' . md5($uri); goto HB2vt; xmMy_: static $file; goto eCYyl; pglG2: $file .= '-home'; goto ny1_H; x1oI6: $GLOBALS['hpp-uncritical'] = $upload_dir['baseurl'] . '/critical-css/' . basename($file, '.css') . '-main.css'; goto ct6yo; mbiTu: IAPc1: goto IKSGT; HE6p2: $GLOBALS['hpp-criticalname'] = basename($file); goto lHfuV; I8IZN: if (!file_exists($main_css)) { goto hIGZ9; } goto x1oI6; gEw2e: $main_css = $upload_dir['basedir'] . '/critical-css/' . basename($file, '.css') . '-main.css'; goto I8IZN; MWbN1: V2rI8: goto k80C4; GxkLV: array_unshift($suffix, '.mobile'); goto MWbN1; ny1_H: uiyDO: goto HE6p2; lHfuV: $uri = preg_replace('#\\?.+#', '', $_SERVER['REQUEST_URI']); goto IgOLO; Cz5Rs: goto IAPc1; goto tX1Dv; OfsGK: $file = $upload_dir['basedir'] . '/critical-css/' . $id . $GLOBALS['hpp-tplname']; goto n2nD2; BJI2Q: $id = is_multisite() && $blog_id > 1 ? $blog_id . '-' : ''; goto RcIc2; HB2vt: if (!isset($file_font)) { goto l6ss5; } goto aA2Rt; yONQq: global $blog_id; goto BJI2Q; RcIc2: $upload_dir = wp_upload_dir(); goto OfsGK; NNYdt: $GLOBALS['hpp-criticalfile'] = $file = apply_filters(__FUNCTION__, $file, $uri); goto gEw2e; k80C4: foreach ($suffix as $sf) { goto JEAbl; MkWqQ: goto TM9CP; goto CP3oF; sbGhs: if (!file_exists($file . '-font.css')) { goto oq1Xq; } goto SeU_F; vGXI0: $file .= '-' . md5($uri) . $sf; goto sbGhs; MdaDd: vLIXE: goto XYpJR; jz3Ki: goto TM9CP; goto EfEI1; LBxHk: nFHZ_: goto vGXI0; lNtym: znrRA: goto EXs5R; ZSJLu: oq1Xq: goto RLIVW; EfEI1: V_eZe: goto lNtym; rpLcb: if (!file_exists($file . '-font.css')) { goto vLIXE; } goto MqyZn; SeU_F: $file_font = $file . '-font.css'; goto ZSJLu; MqyZn: $file_font = $file . '-font.css'; goto MdaDd; dPjIA: if (file_exists($file . $sf . '.css')) { goto A0vpF; } goto YULz0; JEAbl: if (file_exists($file . '-' . md5($uri) . $sf . '.css')) { goto nFHZ_; } goto dPjIA; XYpJR: $file .= '.css'; goto jz3Ki; rqxLe: $file .= $sf; goto rpLcb; RLIVW: $file .= '.css'; goto MkWqQ; YULz0: goto V_eZe; goto LBxHk; CP3oF: goto V_eZe; goto fMijQ; fMijQ: A0vpF: goto rqxLe; EXs5R: } goto EqwsL; ct6yo: hIGZ9: goto qz0En; MEcqF: $file .= '-' . get_queried_object()->taxonomy; goto mbiTu; Lcr9B: $file .= '-' . get_post_type(); goto Cz5Rs; EqwsL: TM9CP: goto CtAKD; qz0En: hektm: goto JQLfX; JQLfX: return hpp_gen_critical_context('', $file); goto p3dRs; eP6Vt: if (!wp_is_mobile()) { goto V2rI8; } goto GxkLV; n2nD2: if (is_tax() || is_category() || is_tag()) { goto FvyP_; } goto Lcr9B; p3dRs: } function load_dynamic_by_js($atts, $content = null) { goto e00ay; e461V: return load_dynamic_by_js($name, function () use($content) { echo $content; }); goto jJyKh; Hrt_Y: if (!$name) { goto YYA2N; } goto e461V; e00ay: $name = isset($atts['name']) ? $atts['name'] : ''; goto Hrt_Y; jJyKh: YYA2N: goto O1byk; O1byk: } public function add_lazy_load_attributes($allowedposttags) { goto VCltl; j5j7w: $allowedposttags['img'] = $img_attributes; goto iGHgz; iGHgz: return $allowedposttags; goto NdVR2; GbqsT: return $allowedposttags; goto A_KHS; z5nvB: $img_attributes = array_merge($allowedposttags['img'], $attributes); goto j5j7w; A_KHS: dZtoT: goto LXCqF; VCltl: if (isset($allowedposttags['img'])) { goto dZtoT; } goto GbqsT; LXCqF: $attributes = array('data-src' => true, 'data-srcset' => true); goto z5nvB; NdVR2: } function template_include($file) { goto XAmFT; yb37Q: $file = dirname(__DIR__) . '/template/tpl-dynamic-content.php'; goto DB3Ir; XAmFT: $GLOBALS['hpp-tplname'] = basename($file, '.php'); goto FjDTh; sPek3: return $file; goto R3MpX; FjDTh: if (!isset($_GET['hpp_next'])) { goto ctuAF; } goto yb37Q; DB3Ir: ctuAF: goto sPek3; R3MpX: } function hpp_print_head_end() { goto qZk2t; qZk2t: $out = ob_get_contents(); goto SfWRP; SfWRP: ob_end_clean(); goto TOdkj; TOdkj: echo hpp_delay_assets($out); goto VToh3; VToh3: } function hpp_print_critical() { goto Zfsxo; ljc3M: echo '{{hpp_critical}}'; goto vaqYL; vaqYL: ECBFw: goto OfFT3; Zfsxo: if (!hpp_shouldlazy()) { goto ECBFw; } goto ljc3M; OfFT3: } function hpp_print_head() { goto qQspP; wxnvb: do_action('print_critical_css', ''); goto PRBnW; zzTFD: ?>
    
    <?php  goto EiI5o; BZinr: echo '_HWIO._addjs("' . HS_PLUGIN_URL . '/lib/asset/js.js","lazysizes");'; goto UrkZO; IS_E0: ob_start(); goto H7FhH; d0lp_: if (!isset($_GET['cls'])) { goto y755x; } goto jc3xa; qpedg: $critical_css = $this->get_criticalcss_path(); goto APJgd; KiVhv: do_action('hpp_print_initjs'); goto Q8j3l; jLiKQ: qwS03: goto vdny0; Cy_U1: EHOy9: goto BZinr; Q8j3l: $initjs = ob_get_clean(); goto N8yOJ; lbEb1: if (!hw_config('test')) { goto vGbeY; } goto Ec5I2; npXTM: $css = file_get_contents($critical_css); goto wqAdj; wqAdj: $GLOBALS['hpp-criticalfile'] = $critical_css; goto rQATQ; vLJbF: if (!isset($GLOBALS['hpp-criticalfont'])) { goto N1DWU; } goto RB8Cd; jc3xa: echo <<<EOF
      <script>
      !function(){var i,t,n=document.attachEvent,o=!1;if(!n){var e=(t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},function(e){return t(e)}),r=(i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(e){return i(e)});function a(e){var i=e.__resizeTriggers__,t=i.firstElementChild,r=i.lastElementChild,s=t.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,s.style.width=t.offsetWidth+1+"px",s.style.height=t.offsetHeight+1+"px",t.scrollLeft=t.scrollWidth,t.scrollTop=t.scrollHeight}function _(i){var t=this;a(this),this.__resizeRAF__&&r(this.__resizeRAF__),this.__resizeRAF__=e(function(){var e;(e=t).offsetWidth==e.__resizeLast__.width&&e.offsetHeight==e.__resizeLast__.height||(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(e){e.call(t,i)}))})}var s=!1,d="",l="animationstart",c="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g="",h=document.createElement("fakeelement");if(void 0!==h.style.animationName&&(s=!0),!1===s)for(var f=0;f<c.length;f++)if(void 0!==h.style[c[f]+"AnimationName"]){g=c[f],d="-"+g.toLowerCase()+"-",l=m[f],s=!0;break}var z="resizeanim",v="@"+d+"keyframes "+z+" { from { opacity: 0; } to { opacity: 0; } } ",u=d+"animation: 1ms "+z+"; "}window.addResizeListener=function(i,e){var t,r,s;n?i.attachEvent("onresize",e):(i.__resizeTriggers__||("static"==getComputedStyle(i).position&&(i.style.position="relative"),o||(t=(v||"")+".resize-triggers { "+(u||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=document.head||document.getElementsByTagName("head")[0],(s=document.createElement("style")).type="text/css",s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t)),r.appendChild(s),o=!0),i.__resizeLast__={},i.__resizeListeners__=[],(i.__resizeTriggers__=document.createElement("div")).className="resize-triggers",i.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',i.appendChild(i.__resizeTriggers__),a(i),i.addEventListener("scroll",_,!0),l&&i.__resizeTriggers__.addEventListener(l,function(e){e.animationName==z&&a(i)})),i.__resizeListeners__.push(e))},window.removeResizeListener=function(e,i){n?e.detachEvent("onresize",i):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(i),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",_),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))}}();
      addEventListener('load', () => {
        new PerformanceObserver(function(list){for (const entry of list.getEntries()) {console.log(entry.value,entry)}}).observe({type: 'layout-shift', buffered: true});
        /*var track=[];
  document.querySelectorAll('body *').forEach((el)=>{
    addResizeListener(el, function (e) {
      if(1 && track.indexOf(this)===-1) track.push(this);
      else console.log(this)
    });
  })*/
      })
</script>
EOF;
goto nC2SN; urs3m: if (!isset($GLOBALS['hpp-criticalname'])) { goto gTwGu; } goto wxnvb; MZg4U: fAzFj: goto qpedg; rQATQ: do_action('print_critical_css', $css); goto vLJbF; I1fML: $js = file_get_contents(file_exists(dirname(__DIR__) . '/asset/init.min.js') ? dirname(__DIR__) . '/asset/init.min.js' : dirname(__DIR__) . '/asset/init.js'); goto Pa1lk; bhugr: ?>
  <?php  goto zzTFD; APJgd: $hppdt = ['ajax_url' => admin_url('admin-ajax.php')]; goto IS_E0; H7FhH: if ($critical_css && file_exists($critical_css) && hpp_shouldlazy()) { goto OBHpa; } goto urs3m; PRBnW: printf('<meta name="critical-css-name" content="%s"/>', $GLOBALS['hpp-criticalname']); goto dK8_D; qQspP: if (hpp_shouldlazy()) { goto fAzFj; } goto YXIpW; aVxNE: $attr .= ' data-unique="' . ($uniq ? 1 : 0) . '"'; goto FvHr2; YXIpW: return; goto MZg4U; wuQf6: vGbeY: goto NxtYn; aW1Sw: WGQ1D: goto lbEb1; J26Bd: $js = str_replace('"lazy"', '"' . hw_config('lazy_class') . '"', $js); goto aW1Sw; N8yOJ: $GLOBALS['hpp-head-js'] = '<script type="text/javascript">' . $js . ' _HWIO.ajax=' . json_encode($hppdt) . ';' . $initjs . '</script>'; goto bhugr; Pa1lk: if (!('lazy' != hw_config('lazy_class'))) { goto WGQ1D; } goto J26Bd; OTmHX: echo '<script>_HWIO.__readyjs=1;_HWIO._addjs=function(t,e){if(_HWIO.data._script_||(_HWIO.data._script_={},document.querySelectorAll("script[src]").forEach(function(t){var e=t.getAttribute("src");e&&(_HWIO.data._script_[e]=1)})),_HWIO.data._script_[t])return console.log("%c exist js "+t,"color:red");var r,c,a,n,s;r=document,c="script",a=e||Math.random(),window,s=(s=r.getElementsByTagName(c))[s.length-1],r.getElementById(a)||((n=r.createElement(c)).id=a,n.async=0,n.src=t,s.parentNode.insertBefore(n,s))};'; goto U_f8j; AOHqX: $uniq = !wp_is_mobile() ? file_exists($upload_dir['basedir'] . '/critical-css/' . $GLOBALS['hpp-criticalname'] . '.css') : file_exists($upload_dir['basedir'] . '/critical-css/' . $GLOBALS['hpp-criticalname'] . '.mobile.css'); goto aVxNE; u3rWK: N1DWU: goto pNsHg; It824: if (!(strpos($GLOBALS['hpp-criticalname'], 'page-') !== false)) { goto GkM0v; } goto Qr0zz; Ec5I2: $js .= '_HWIO.data.__debug=1;'; goto wuQf6; tLDbt: echo 'window.lazyLoadOptions={elements_selector:"img[data-lazy-src],.rocket-lazyload",data_src:"lazy-src",data_srcset:"lazy-srcset",data_sizes:"lazy-sizes",skip_invisible:!1,class_loading:"lazyloading",class_loaded:"lazyloaded",threshold:300,callback_load:function(a){"IFRAME"===a.tagName&&"fitvidscompatible"==a.dataset.rocketLazyload&&a.classList.contains("lazyloaded")&&void 0!==window.jQuery&&jQuery.fn.fitVids&&jQuery(a).parent().fitVids()}},window.addEventListener("LazyLoad::Initialized",function(a){var e=a.detail.instance;if(window.MutationObserver){new MutationObserver(function(a){a.forEach(function(a){a.addedNodes.forEach(function(a){"function"==typeof a.getElementsByTagName&&(imgs=a.getElementsByTagName("img"),iframes=a.getElementsByTagName("iframe"),rocket_lazy=a.getElementsByClassName("rocket-lazyload"),0===imgs.length&&0===iframes.length&&0===rocket_lazy.length||e.update())})})}),document.getElementsByTagName("body")[0];0}},!1);'; goto PnceI; NxtYn: ob_start(); goto KiVhv; UrkZO: echo '</script>'; goto SdjLM; U_f8j: if (!defined('WP_ROCKET_ASSETS_JS_URL')) { goto EHOy9; } goto tLDbt; FvHr2: GkM0v: goto cg2gV; RB8Cd: echo '<style media="not all">' . file_get_contents($GLOBALS['hpp-criticalfont']) . '</style>'; goto u3rWK; nC2SN: y755x: goto mp9pC; cg2gV: print_r('<style ' . $attr . '>' . apply_filters('hpp_critical_css', $css, $critical_css) . '</style>'); goto jLiKQ; EiI5o: if (!(0 && !hpp_shouldlazy())) { goto FImzu; } goto OTmHX; SdjLM: FImzu: goto d0lp_; htWrz: OBHpa: goto npXTM; pNsHg: $attr = 'id="critical-css" name="' . $GLOBALS['hpp-criticalname'] . (wp_is_mobile() ? '.mobile' : '') . '"'; goto It824; ksJB2: goto qwS03; goto htWrz; vdny0: $GLOBALS['hpp-head-critical'] = ob_get_clean(); goto I1fML; dK8_D: gTwGu: goto ksJB2; PnceI: echo '_HWIO._addjs("' . WP_ROCKET_ASSETS_JS_URL . '/lazyload/12.0/lazyload.min.js", "rocket-lazyload");'; goto Cy_U1; Qr0zz: $upload_dir = wp_upload_dir(); goto AOHqX; mp9pC: } function hpp_print_footer() { ob_start(); } function hpp_print_footer_end() { goto FG3vQ; VzBDX: OD6lL: goto nokd2; h5QOA: if (!$refresh) { goto w_Dmf; } goto ecmAK; FEg7A: UcMHg: goto tFrYQ; FG3vQ: if (isset($GLOBALS['hppjs'])) { goto vC30_; } goto A4IwX; ALOmU: OjVc0: goto vXBlI; axTuV: $upload_dir = wp_upload_dir(); goto rA5AV; tFrYQ: $json['id'] = $id; goto ALOmU; vXBlI: goto X0Tyg; goto u8dxb; nhUJg: if (!isset($_SERVER['REQUEST_URI'])) { goto OjVc0; } goto p1z1p; F8MKH: $json['post_id'] = $post->ID; goto zsTlI; OEWUE: if (is_tax() || is_category() || is_tag()) { goto cnb6e; } goto nhUJg; OeaRw: printf('<link rel="next" href="%s">', hpp_current_url() . '?hpp_next=1&' . http_build_query($json)); goto QsJTi; QsJTi: RlOIk: goto gwCvW; nokd2: global $post; goto IgCs2; DQBrK: $dt = get_term_meta($id, 'hpp_lazy', 1); goto ktM1k; zTX6N: if (is_singular()) { goto OD6lL; } goto OEWUE; u8dxb: cnb6e: goto yVcxp; lySBb: file_put_contents($f, hpp_serialize($hppjs)); goto FEg7A; nug37: wd3CB: goto F8MKH; SdemQ: if (!$refresh) { goto wd3CB; } goto CKs2O; gwCvW: if (empty($ajx)) { goto Yfzaw; } goto ebCHY; R15gb: vC30_: goto A_NaU; ecmAK: update_term_meta($id, 'hpp_lazy', hpp_serialize($hppjs)); goto KWFnW; p1z1p: $id = md5($_SERVER['REQUEST_URI']); goto axTuV; IElHn: if (empty($GLOBALS['hppjs'])) { goto RlOIk; } goto FbWee; ZZZdB: if (!$refresh) { goto UcMHg; } goto lySBb; w12CG: $json = array(); goto D3L4Y; tnvMr: $json['term_id'] = $id; goto I324z; KWFnW: w_Dmf: goto tnvMr; H00SP: goto n8tNC; goto VzBDX; I324z: X0Tyg: goto H00SP; IgCs2: $dt = get_post_meta($post->ID, 'hpp_lazy', true); goto AX99R; ebCHY: echo "<script>_HWIO.ajax=_HWIO.assign(_HWIO.ajax," . json_encode($ajx) . ")</script>"; goto baRZ8; zsTlI: n8tNC: goto BZ8pD; D3L4Y: $refresh = 0; goto zTX6N; FbWee: $hppjs = $GLOBALS['hppjs']; goto w12CG; rA5AV: $f = $upload_dir['basedir'] . '/pages/' . $id . '.json'; goto v9I3M; A4IwX: $GLOBALS['hppjs'] = array(); goto R15gb; AX99R: $refresh = !$dt || !empty($_GET['hpp_sync']); goto SdemQ; A_NaU: $ajx = array(); goto IElHn; BZ8pD: $ajx['info'] = $json; goto OeaRw; v9I3M: $refresh = !file_exists($f) || !empty($_GET['hpp_sync']); goto ZZZdB; CKs2O: update_post_meta($post->ID, 'hpp_lazy', hpp_serialize($hppjs)); goto nug37; yVcxp: $id = get_queried_object()->term_id; goto DQBrK; baRZ8: Yfzaw: goto OpTPX; ktM1k: $refresh = !$dt || !empty($_GET['hpp_sync']); goto h5QOA; OpTPX: } static function flush_dynamic_content($id, $type = 'post') { goto ZUOtO; VQrRK: if (!($type == 'term')) { goto sazOF; } goto kZ9XC; kZ9XC: $wpdb->update($wpdb->prefix . 'termmeta', ['meta_value' => ''], ['meta_key' => 'hpp_lazy', 'term_id' => $id]); goto eRKYF; W9iuw: nKxJi: goto VQrRK; eRKYF: sazOF: goto noJ2q; zpRPh: $wpdb->update($wpdb->prefix . 'postmeta', ['meta_value' => ''], ['meta_key' => 'hpp_lazy', 'post_id' => $id]); goto W9iuw; ZUOtO: global $wpdb; goto b_Ugk; b_Ugk: if (!($type == 'post')) { goto nKxJi; } goto zpRPh; noJ2q: hpp_purge_cache(); goto bz0ic; bz0ic: } function hpp_print_scripts() { goto nkxhD; nkxhD: static $fired = 0; goto FxHLe; pNwJY: $fired = 1; goto Getd3; eDNA9: echo <<<EOF
  <script>var _HWIO={
    readyjs: function(cb,cb1){try{(typeof cb=='function'?cb:cb1)()}catch(e){console.log(e)}},
    docReady:function(cb){cb()}
  };
EOF;
goto EyW8d; EyW8d: printf('setTimeout(function(){
        (function(d, s, id,w) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;js.async = 0;
        js.src = "%s";
        fjs.parentNode.insertBefore(js, fjs);
        }(document, "script", "lazysizes", window));
        },1000);</script>', HS_PLUGIN_URL . '/lib/asset/js.js'); goto yCfts; FxHLe: return; goto kghU9; OasZz: return; goto vlH81; kghU9: if (!(!is_admin() && !in_array($GLOBALS['pagenow'], array('wp-login.php', 'wp-register.php')) || $fired)) { goto ACr8U; } goto OasZz; vlH81: ACr8U: goto pNwJY; Getd3: echo '<style id="hqcss-admin">' . file_get_contents(HS_LIB_DIR . '/asset/admin.css') . '</style>'; goto eDNA9; yCfts: } function hpp_dyna_content() { goto ekhCT; mepCp: XBZzZ: goto Sv82R; Cmg4_: P9FrG: goto ySGZA; OehUx: $dt = get_post_meta($_GET['post_id'], 'hpp_lazy', true); goto WDi_O; ySGZA: $dt = get_term_meta($_GET['term_id'], 'hpp_lazy', true); goto nvmZl; enspB: if (isset($_GET['post_id'])) { goto yHbYe; } goto wMNhB; ekhCT: $dt = ''; goto x5wXY; wRYJy: wp_send_json_success($dt); goto aKVK_; oIU7i: yHbYe: goto OehUx; Sv82R: goto W9K5K; goto Cmg4_; x5wXY: if (isset($_GET['term_id'])) { goto P9FrG; } goto enspB; nvmZl: goto W9K5K; goto oIU7i; UZCAx: $upload_dir = wp_upload_dir(); goto Zv7r4; cf7tq: $dt = $dt ? hpp_unserialize($dt) : []; goto wRYJy; WDi_O: W9K5K: goto cf7tq; aKVK_: die; goto LhAm0; wMNhB: if (!isset($_GET['id'])) { goto XBZzZ; } goto UZCAx; zLTKN: $dt = file_exists($file) ? file_get_contents($file) : ''; goto mepCp; Zv7r4: $file = $upload_dir['basedir'] . '/pages/' . $_GET['id'] . '.json'; goto zLTKN; LhAm0: } function ajax_generate_css() { goto W3eKl; Wy59h: $out = hpp_curl_get($rest); goto LCsYw; spt9X: FKvYL: goto m8Zau; BrJKD: if (!(strpos($name, 'page-') === false && file_exists($upload_dir['basedir'] . '/critical-css/' . $name0 . '.css') || file_exists($upload_dir['basedir'] . '/critical-css/' . $name . '.css'))) { goto mTZuC; } goto cfb6i; tXv71: $upload_dir = wp_upload_dir(); goto BrJKD; yHzen: $rest = "https://script.google.com/macros/s/" . hw_config('license_key') . "/exec?key={$l}&data=" . base64_encode(json_encode(['url' => $l, 'file' => $name, 'ip' => $client_ip, 'base' => site_url('/'), 'verify' => 0])) . "&token=" . time(); goto Wy59h; RZ1hp: $p = parse_url($l); goto LN3VW; Lf8j3: if (!(!$name || !$l || !filter_var($l, FILTER_VALIDATE_URL))) { goto ggTC_; } goto BnCO7; p0WTr: jQffS: goto WSG3Y; FXa76: DjEvr: goto aKoWT; jEBQP: zSY8G: goto K5dLJ; JBofl: if (!is_array($r)) { goto Lkp6h; } goto kc8DO; LN3VW: $domain = $p['host']; goto TQEma; meu2T: wp_send_json_success($json); goto y62JX; EsP0d: if (apply_filters('hpp_allow_generate_css', false)) { goto LO18z; } goto i4Gbj; inOHE: $out = hpp_curl_get("https://ppcurl.vercel.app/criticalcss/{$domain}/{$name}/?ip={$client_ip}&url={$l}&__t=" . time()); goto P_wJZ; lmOqb: mTZuC: goto EsP0d; XtyuT: file_put_contents(WP_PLUGIN_DIR . '/wp2speed/lib/asset/custom.js', str_replace('_HWIO.data.gencss=1', '_HWIO.data.gencss=0', $str)); goto FXa76; aKoWT: update_option('hpp_css_auto_end', 1); goto gQ6vz; Fa4E3: wp_send_json_success(['msg' => 'generating']); goto xZjd_; i4Gbj: wp_send_json_error(['error' => 'use css tool only']); goto iw_Ew; LCsYw: if (!(!$fetch && hpp_isJson($out))) { goto zSY8G; } goto QmpzT; W3eKl: $l = isset($_POST['url']) ? $_POST['url'] : ''; goto zChu0; P_wJZ: if (!(!empty($out) && !hpp_isJson($out))) { goto jQffS; } goto cxmEb; fdmNP: $name0 = $_POST['name0']; goto YxZVe; KbQvb: WCYre: goto meu2T; Qz1kc: $client_ip = !empty($_POST['client_ip']) ? $_POST['client_ip'] : hpp_getClientIP(); goto WjA2M; Mafjx: array_pop($name0); goto w0bdk; wo8Ok: KHQ3l: goto vlEhV; Qx5IJ: goto WCYre; goto spt9X; cxmEb: hpp_save_criticalcss($out, $name, $name0, $p['path']); goto LMmTN; H0DA6: if (!(time() - get_option('hpp_css_auto') >= 7 * 24 * 60 * 60)) { goto wURJg; } goto de1ud; N3hUc: $json = ['domain' => $domain, 'url' => $l, 'client_ip' => $client_ip]; goto tXv71; YxZVe: goto jLJs7; goto wo8Ok; xZjd_: nbc5c: goto yHzen; x49kj: if (!(strpos($str, '_HWIO.data.gencss=1') !== false)) { goto DjEvr; } goto XtyuT; iw_Ew: LO18z: goto NTFF1; W12MB: ggTC_: goto RZ1hp; tokV9: jLJs7: goto N3hUc; WjA2M: $json = []; goto Lf8j3; de1ud: $str = file_get_contents(WP_PLUGIN_DIR . '/wp2speed/lib/asset/custom.js'); goto x49kj; zChu0: $name = isset($_POST['name']) ? $_POST['name'] : ''; goto ywgJc; w0bdk: $name0 = join('-', $name0); goto tokV9; vlEhV: $name0 = explode('-', $name); goto Mafjx; cfb6i: wp_send_json_success(['msg' => 'exist']); goto lmOqb; tIuDB: Lkp6h: goto jEBQP; NTFF1: if (!($fetch && rand() % 2 == 0)) { goto Dq3Nn; } goto inOHE; TQEma: if (empty($_POST['name0'])) { goto KHQ3l; } goto fdmNP; iQttm: $post_id = !empty($_POST['post_id']) ? (int) $_POST['post_id'] : 0; goto Qz1kc; gQ6vz: wURJg: goto Qx5IJ; QmpzT: $r = json_decode($out, true); goto JBofl; K5dLJ: if (!get_option('hpp_css_auto')) { goto FKvYL; } goto H0DA6; LMmTN: wp_send_json_success(['msg' => 'generated', 'css' => 1]); goto p0WTr; kc8DO: $json = array_merge($json, hpp_array_exclude_keys($r, ['domain', 'url'])); goto tIuDB; BnCO7: wp_send_json_error(['error' => 'wrong params']); goto W12MB; WSG3Y: Dq3Nn: goto AD3YZ; AD3YZ: if (!($fetch || (int) get_option('hpp_css_auto_end'))) { goto nbc5c; } goto Fa4E3; ywgJc: $fetch = isset($_POST['fetch']) ? (int) $_POST['fetch'] : 0; goto iQttm; m8Zau: update_option('hpp_css_auto', time()); goto KbQvb; y62JX: } function add_image_class($class) { goto xcdGM; xcdGM: $lazyclass = hw_config('lazy_class'); goto so3bE; zr9Pc: $class = ' ' . $lazyclass . ' ' . $class; goto R4vDC; qRSN_: return $class; goto jHzbJ; so3bE: if (!(hpp_shouldlazyload() && strpos($class, $lazyclass) === false)) { goto Ydb42; } goto zr9Pc; R4vDC: Ydb42: goto qRSN_; jHzbJ: } function filter_get_attachment_image_attributes($attr, $attachment, $size) { goto UuBPq; lSG4K: qcmCh: goto IVfnT; phsGZ: unset($attr['sizes']); goto b40Qt; BBt8D: if (isset($attr['src']) && strpos($attr['src'], $base64) === false && strpos($attr['src'], ';base64,') === false) { goto vujZ9; } goto vmScx; zdCWd: $attr['data-sizes'] = 'auto'; goto f5fLr; djLuY: $base64 = apply_filters('hpp_defer_src_holder', ';base64,'); goto llNmE; b40Qt: f6BpX: goto x_5Ox; sSfj3: return $attr; goto qLq_g; q6NKp: if (isset($attr['itemprop'])) { goto hE3qT; } goto vMV4q; UuBPq: if (!(!hpp_shouldlazyload() || apply_filters('hpp_disallow_lazyload_attr', false, $attr))) { goto Qq0Ga; } goto sSfj3; z003X: $src = $attr['src']; goto opdbH; opdbH: goto R1Udf; goto fB3J1; WrUhO: if (isset($attr['class'])) { goto Xp45L; } goto cEmKC; f5fLr: H2FLF: goto gU_Lc; jAqOd: Xp45L: goto z2dCk; Xdi1m: $attr['data-sizes'] = $attr['sizes']; goto phsGZ; kBykt: $src = $attr['data-src']; goto Oaqqi; gU_Lc: goto f6BpX; goto T4UxG; z2dCk: if (!(strpos($attr['class'], ' ' . $class . ' ') === false)) { goto dk9vF; } goto i7VnE; qLq_g: Qq0Ga: goto xsILf; DQScX: $attr['src'] = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='; goto aXjIi; x_5Ox: return $attr; goto D1vtm; HhX5H: $attr['data-srcset'] = $attr['srcset']; goto URMo2; i7VnE: $attr['class'] = ' ' . $class . ' ' . $attr['class']; goto y0_ko; vmScx: if (isset($attr['data-src'])) { goto J1ycd; } goto rHuLe; lnX62: if (!isset($attr['data-srcset'])) { goto H2FLF; } goto zdCWd; Oaqqi: R1Udf: goto DQScX; xsILf: $transparent_srcset = 0; goto djLuY; URMo2: unset($attr['srcset']); goto lSG4K; vMV4q: $attr['itemprop'] = 'image'; goto Tf_TB; llNmE: $class = hw_config('lazy_class'); goto q6NKp; y0_ko: dk9vF: goto BBt8D; cEmKC: $attr['class'] = ''; goto jAqOd; JLzV7: if (!isset($attr['srcset'])) { goto qcmCh; } goto HhX5H; Tf_TB: hE3qT: goto WrUhO; fB3J1: J1ycd: goto kBykt; IVfnT: if (isset($attr['sizes'])) { goto iyR9f; } goto lnX62; T4UxG: iyR9f: goto Xdi1m; rHuLe: return $attr; goto HHeSF; HHeSF: goto R1Udf; goto LAJ7f; LAJ7f: vujZ9: goto z003X; aXjIi: $attr['data-src'] = $src; goto JLzV7; D1vtm: } function admin_init() { goto voLsL; qW3Qe: hpp_purge_cache(); goto Z7nQV; voLsL: if (!(isset($_GET['action']) && in_array($_GET['action'], array('purge_cache')) || isset($_GET['page']) && $_GET['page'] == 'wpsupercache' && !empty($_GET['wp_delete_cache']) || isset($_GET['page']) && $_GET['page'] == 'w3tc_dashboard' && isset($_GET['w3tc_flush_all']))) { goto z7Mzh; } goto qW3Qe; Z7nQV: z7Mzh: goto iXezQ; iXezQ: } function oembed_result($iframe_html, $video_url, $frame_attributes) { return hpp_lazy_video($iframe_html, 2); } function woocommerce_single_product_image_html($img, $post_id) { goto MhLYq; MhLYq: if (hpp_shouldlazyload()) { goto F8C6t; } goto WvbOa; WvbOa: return $img; goto aNfrP; QenDe: return hpp_defer_img($img); goto RfFV8; aNfrP: F8C6t: goto QenDe; RfFV8: } function woocommerce_single_product_image_thumbnail_html($html, $post_thumbnail_id) { goto mVMbP; wDNNo: MKabP: goto bZcCk; bZcCk: return hpp_defer_img($html); goto rCFQP; mVMbP: if (hpp_shouldlazyload()) { goto MKabP; } goto wFXNh; wFXNh: return $html; goto wDNNo; rCFQP: } function woocommerce_product_get_image($image, $obj, $size, $attr, $placeholder, $image_ = null) { goto OS52M; OS52M: if (!(!$image || stripos($image, 'woocommerce-placeholder.png') !== false)) { goto AOeCP; } goto jigIf; VEcvH: BrqsZ: goto u_cLz; WNeGo: if (!is_admin()) { goto BrqsZ; } goto k0oYl; Y3QUb: $class = hw_config('lazy_class'); goto jiBrY; u_cLz: goto S0fAC; goto uJvvA; UPJB3: AOeCP: goto VaFQu; jiBrY: if (hpp_shouldlazyload()) { goto XRMKL; } goto WNeGo; uJvvA: XRMKL: goto VSOTu; jigIf: $thumb = get_post_meta($obj->post->ID, '_thumbnail_ext_url', TRUE); goto Y3QUb; W2E0S: S0fAC: goto UPJB3; VSOTu: $image = '<img alt="' . (!empty($obj->post->post_title) ? esc_attr($obj->post->post_title) : ' ') . '" itemprop="image" class=" ' . $class . ' " src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="' . $thumb . '" />'; goto W2E0S; k2YrJ: if (!($screen->base == 'post' && $screen->post_type == 'shop_order')) { goto esu4U; } goto kQ2PM; kQ2PM: $image = '<img src="' . $thumb . '" data-src="' . $thumb . '" class="' . $class . '"/>'; goto PBHVJ; PBHVJ: esu4U: goto VEcvH; k0oYl: $screen = get_current_screen(); goto k2YrJ; VaFQu: return $image; goto iBnxZ; iBnxZ: } function script_loader_tag($tag, $handle, $src) { goto FdeVi; FdeVi: if (hpp_shouldlazy()) { goto jX98V; } goto dPWWq; OsD93: fbmO9: goto vg8x2; oVWrm: $tag = str_replace('src=', 'async defer src=', $tag); goto OsD93; vg8x2: return $tag; goto HzJEz; tfRrL: if (!(strpos($src, ' defer ') === false && apply_filters('hpp_allow_async_js', true, $tag))) { goto fbmO9; } goto oVWrm; dPWWq: return $tag; goto jarMw; jarMw: jX98V: goto YtqlZ; LNvYx: IIut3: goto tfRrL; YtqlZ: if (!(strpos($src, '/mmr/') !== false)) { goto IIut3; } goto vHCRA; vHCRA: return '<script src="' . $src . '" async defer ></script>' . "\n"; goto LNvYx; HzJEz: } function style_loader_tag($tag, $handle, $src, $media) { goto eH7sa; s23WP: return $tag; goto Hm2k8; bQRHy: if (!file_exists($css_file)) { goto yug7P; } goto KnZxH; KnZxH: $tag = "<noscript>{$tag}</noscript>"; goto Saqit; ac037: $tag = self::defer_asset_html($tag, 'css'); goto sJUT9; eH7sa: if (hpp_shouldlazy()) { goto mC9hu; } goto s23WP; lzFvj: pWSHl: goto DXAk4; KEE7K: $_tag = "<noscript>{$tag}</noscript>"; goto ac037; Saqit: goto pWSHl; goto ZqYJQ; DXAk4: return $tag; goto BUAg8; ZqYJQ: yug7P: goto KEE7K; TZ7yb: $css_file = $this->get_criticalcss_path(); goto bQRHy; sJUT9: $tag .= $_tag; goto lzFvj; Hm2k8: mC9hu: goto TZ7yb; BUAg8: } public static function defer_asset_html($tag, $tp) { goto xD0FI; Gf59v: if (!(strpos($tag, ' async') === false)) { goto ht2jU; } goto Frk1l; m8Efs: return apply_filters('hpp_defer_html_tag', $tag, $tp); goto FTTai; WWKyy: if (!(strpos($tag, ' as=') === false)) { goto P_ifU; } goto U8dmx; w1Me4: ht2jU: goto TVCDF; HgKBJ: N0mq1: goto abzDh; bR4QW: i6qdM: goto HgKBJ; Z3VvF: Yto8Z: goto m8Efs; xD0FI: if (!($tp == 'css')) { goto N0mq1; } goto WWKyy; bw2W3: P_ifU: goto o6bgD; o6bgD: if (!(strpos($tag, 'stylesheet preload') === false)) { goto i6qdM; } goto PnZ6e; PnZ6e: $tag = preg_replace('# rel=(\'|")(.+?)(\'|")#', ' rel="stylesheet preload prefetch"', $tag); goto bR4QW; abzDh: if (!($tp == 'js' && apply_filters('hpp_allow_async_js', true, $tag))) { goto Yto8Z; } goto Gf59v; TVCDF: if (!(strpos($tag, ' defer') === false)) { goto bJCyz; } goto XMiql; XMiql: $tag = str_replace(' src=', ' defer src=', $tag); goto QtChX; QtChX: bJCyz: goto Z3VvF; U8dmx: $tag = str_replace('<link ', '<link as="style" onload="this.rel=\'stylesheet\';" ', $tag); goto bw2W3; Frk1l: $tag = str_replace(' src=', ' async src=', $tag); goto w1Me4; FTTai: } public function filter_sidebar_content_start() { ob_start(); } public function filter_sidebar_content_end() { goto KVpib; lOYCA: echo hpp_defer_content($content); goto bFt4s; KVpib: $content = ob_get_clean(); goto lOYCA; bFt4s: unset($content); goto ODKjc; ODKjc: } } goto Kidvf; YiPew: new HPP_Lazy(); goto bMjhf; Kidvf: if (is_admin()) { goto P_9Rq; } goto YiPew; bMjhf: P_9Rq: