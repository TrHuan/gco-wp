<?php
/*by PenciDesign*/
 final class HPP_OutputBuffer { protected $priority = -PHP_INT_MAX; protected $extraObStart = 0; function __construct() { goto kNxRX; kNxRX: if (!(1 || hpp_shouldlazy())) { goto emV65; } goto z_li9; Oe5t7: emV65: goto WLLh1; z_li9: $this->init(); goto Oe5t7; WLLh1: } protected function init() { goto lv0Cf; f0C_i: add_action('shutdown', array($this, 'closeOutputBuffers'), $this->priority); goto wL_Lm; ARWjw: if (!defined('MCGFUIDGEN_PLUGIN_VERSION')) { goto uaYf0; } goto o9Db2; rjBiE: add_action('shutdown', array($this, 'closeOutputBuffers'), $this->priority); goto sD7jN; jKn84: uaYf0: goto cLVbj; o9Db2: remove_action('init', 'mcgfuidgen_head', 0); goto phoLc; sD7jN: goto n0arD; goto PEO8H; PX20W: add_action('init', array($this, 'outputStart'), $this->priority); goto rjBiE; phoLc: add_action('init', 'mcgfuidgen_head', 1000000); goto jKn84; lv0Cf: if (defined('BORLABS_CACHE_SLUG') && !is_admin()) { goto Gn8NK; } goto PX20W; nwZqz: add_action('template_redirect', array($this, 'outputStart'), $this->priority); goto f0C_i; PEO8H: Gn8NK: goto nwZqz; wL_Lm: n0arD: goto ARWjw; cLVbj: } public function outputStart() { goto D1Ude; baCcx: ob_start(); goto nyruT; nyruT: WOY12: goto G2jeI; G2jeI: $i++; goto USti_; vC78R: NlnP8: goto BdYVh; e4shw: if (!class_exists('Cart66')) { goto NlnP8; } goto hMezI; nUTfm: Xrza2: goto x0BDD; Bdzpe: if (!($i < $this->extraObStart)) { goto Xrza2; } goto baCcx; qVYPS: M0pDt: goto FrkBr; FrkBr: $started = true; goto OSV8q; Vtwfx: if (!$started) { goto M0pDt; } goto eF6lv; USti_: goto kkW_Z; goto nUTfm; gu6YL: kkW_Z: goto Bdzpe; x0BDD: if (!function_exists('EWD_URP_add_ob_start')) { goto cwBhn; } goto O7Pun; D1Ude: static $started = false; goto Vtwfx; hMezI: ob_start(); goto vC78R; O7Pun: ob_start(); goto kT7z1; OSV8q: ob_start(array($this, "outputCallback")); goto srCWc; kT7z1: cwBhn: goto e4shw; eF6lv: return true; goto qVYPS; srCWc: $i = 0; goto gu6YL; BdYVh: return true; goto Viq8F; Viq8F: } public function closeOutputBuffers() { goto O7uYf; VqRbJ: goto GEITK; goto IH_7h; aBkaT: GEITK: goto t8Ei4; BntkQ: wwp30: goto LqGGx; f7aHx: if (!($handlers[$i] === $callback)) { goto yV1Ek; } goto VqRbJ; O7uYf: $handlers = ob_list_handlers(); goto lESUR; iVE97: $i = count($handlers) - 1; goto BntkQ; lJ4M9: $i--; goto RkDH9; lESUR: $callback = self::class . '::outputCallback'; goto D0iuu; AjT2k: ob_end_flush(); goto f7aHx; LqGGx: if (!($i >= 0)) { goto GEITK; } goto AjT2k; RkDH9: goto wwp30; goto aBkaT; D0iuu: if (!in_array($callback, $handlers)) { goto Kgwhu; } goto iVE97; IH_7h: yV1Ek: goto GGFlW; GGFlW: a1rHd: goto lJ4M9; t8Ei4: Kgwhu: goto MO_e1; MO_e1: } public function outputCallback($buffer, $phase) { goto hA629; zbSG3: return $buffer; goto uemgv; FaO1f: H7d4H: goto zbSG3; csmKY: return $this->prepareOutput($buffer); goto FaO1f; hA629: if (!($phase & PHP_OUTPUT_HANDLER_FINAL || $phase & PHP_OUTPUT_HANDLER_END)) { goto H7d4H; } goto csmKY; uemgv: } public function prepareOutput($buffer) { return apply_filters('hpp_prepare_output', $buffer); } public function setPriority($priority) { $this->priority = $priority; } public function setExtraObStart($extraObStart) { $this->extraObStart = $extraObStart; } }