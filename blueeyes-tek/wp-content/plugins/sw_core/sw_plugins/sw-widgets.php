<?php /*** Widgets**/class sw_primary_menu extends WP_Widget{	function __construct(){		/* Widget settings. */		$widget_ops = array( 'classname' => 'sw_primary_menu', 'description' => __('Sw Menu Widget', 'sw_core') );		/* Widget control settings. */		$control_ops = array( 'width' => 300, 'height' => 350, 'id_base' => 'sw_primary_menu' );		/* Create the widget. */		parent::__construct( 'sw_primary_menu', __('Sw Menu Widget', 'sw_core'), $widget_ops, $control_ops );	}		public function widget( $args, $instance ) {		extract($args);		echo $before_widget;		extract($instance);		if ( has_nav_menu('primary_menu') ) {	?>		<div id="main-menu" class="main-menu clearfix">			<nav id="primary-menu" class="primary-menu">				<div class="mid-header clearfix">					<div class="navbar-inner navbar-inverse">							<?php $class = ( $style == 'mega' ) ? 'nav nav-pills nav-mega' : 'nav nav-pills nav-css'; ?>						<?php wp_nav_menu( array( 'theme_location' => 'primary_menu', 'menu_class' => $class ) ); ?>					</div>				</div>			</nav>		</div>	<?php 		}		echo $after_widget;	}	function update( $new_instance, $old_instance ) {		$instance = $old_instance;		$instance['title'] = strip_tags( $new_instance['title'] );		$instance['style'] = strip_tags( $new_instance['style'] );		return $instance;			}		public function form( $instance ) {		$title 	= isset( $instance['title'] ) ? strip_tags($instance['title']) : '';		$style 	= isset( $instance['style'] ) ? strip_tags($instance['style']) : 'dropdown';	?>		<p>			<label for="<?php echo $this->get_field_id('title'); ?>"><?php _e('Title', 'sw_core')?></label>			<br />			<input class="widefat" id="<?php echo $this->get_field_id('title'); ?>" name="<?php echo $this->get_field_name('title'); ?>" type="text"	value="<?php echo esc_attr($title); ?>" />		</p>				<p>		<label for="<?php echo $this->get_field_id('style'); ?>"><?php _e("Template", 'sw_core')?></label>		<br/>				<select class="widefat"			id="<?php echo $this->get_field_id('style'); ?>"	name="<?php echo $this->get_field_name('style'); ?>">			<option value="dropdown" <?php if ($style=='dropdown'){?> selected="selected"			<?php } ?>>				<?php _e('Dropdown', 'sw_core')?>			</option>			<option value="mega" <?php if ($style=='mega'){?> selected="selected"			<?php } ?>>				<?php _e('Mega', 'sw_core')?>			</option>						</select>	</p> 	<?php 	}}